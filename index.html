<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Tiro+Tamil&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="./public/assets/css/main.css">
    <link rel="stylesheet" href="./public/assets/css/mobile.css" media="screen and (max-width: 767px)">
    <link rel="stylesheet" href="./public/assets/css/tablet.css" media="screen and (min-width: 768px) and (max-width: 1024px)">
    <link rel="stylesheet" href="./public/assets/css/desktop.css" media="screen and (min-width: 1024px)">
    <link rel="stylesheet" href="./public/assets/css/special.css">
    <link rel="icon" type="image/webp" href="./public/assets/img/icon/icon.webp">
    <meta name="description" content="Plongez dans l'univers décalé des Honteux de Barbegarde à travers un mini-jeu inspiré d’une histoire de fantasy humoristique. Affrontez une galerie de personnages truculents et tentez de remporter la victoire face à l’ordinateur !" />
    <title>Les Honteux de Barbegarde - Mini-Jeu</title>
</head>

<body>

    <!-- HEADER AVEC REGLES DU JEU ET STATISTIQUES -->
    <header>
        <nav>
            <button type="button" title="Réinitialise les scores" id="cleanScores">Réinitialiser</button>

            <!-- BOUTON ET MODAL POUR LES REGLES DU JEU -->
            <button type="button" title="Lire les dernières mises à jour" id="openUpdates">Mises à jour</button>
            <dialog id="updates">
                <div>
                    <div class="headerUpdates">
                        <button id="previousUpdate"><i class="fa-sharp fa-solid fa-chevron-left"></i></button>
                        <h2>Mises à jour <br>
                        <span class="version">Version </span><span id="versionNumber"></span></h2>
                        <button id="nextUpdate"><i class="fa-sharp fa-solid fa-chevron-right"></i></button>
                    </div>
                    <h3 id="date"></h3>
                    <p id="content"></p>
                    <hr>
                    <h3>Prochainement</h3>
                    <p id="next"></p>
                    <hr>
                    <p>Pour signaler un bug ou soumettre des pistes d'amélioration du jeu, vous pouvez me contacter à cette adresse : <br> <span>xenophee@hotmail.fr</span></p>
                    <button type="button" id="closeUpdates">Fermer</button>
                </div>
            </dialog>

            <!-- BOUTON ET MODAL POUR LES REGLES DU JEU -->
            <button type="button" title="Ouvrir les règles du jeu" id="openRules">Règles du jeu</button>
            <dialog id="rules">
                <div>
                    <h2>Règles du jeu</h2>
                    <p>Choisissez un personnage parmi les six proposés à chaque manche, et l’ordinateur vous fournira un
                        adversaire parmi son propre choix de six.</p>
                    <p>À chaque manche, vous et l’ordinateur avez 20% de chance d’obtenir un personnage spécial que vous êtes libre d’utilisé 
                        quand bon vous semble durant la partie en cours ou les suivantes. Chacun des quatre personnages accorde un avantage spécifique :</p>
                        <ul>
                            <li><span>Austère</span> : retire un point à l’ordinateur.</li>
                            <li><span>Charmignon</span> : empêche l’ordinateur d’utiliser un personnage spécial pendant trois tours.</li>
                            <li><span>Devine</span> : vous donne un point.</li>
                            <li><span>Hontoscope</span> : une chance sur deux de retirer deux points à l’ordinateur ou à vous-mêmes.</li>
                        </ul>
                    <p>En outre, vous avez 10% de chance de voir survenir un événement spécial durant la partie parmi les trois disponibles.</p>
                    <p>Les scores peuvent devenir négatifs au cours de la partie.</p>
                    <p>Lorsque l’un des deux camps obtient 10 points, la partie s’achève.</p>
                    <p>Voici les rapports de force de chaque personnage :</p>

                    
                    <ul>
                        <div><span>Yvette</span></div>
                        <li>= Boulb & Furoncle</li>
                        <li>> Jean-Fonce & Pétroncle</li>
                        <li>< Licorne & Toupille</li>
                    </ul>
                    <ul>
                        <div><span>Jean-Hardi</span></div>
                        <li>= Jean-Fonce & Pétroncle</li>
                        <li>> Licorne & Toupille</li>
                        <li>< Boulb & Furoncle </li>
                    </ul>
                    <ul>
                        <div><span>Hutin</span></div>
                        <li>= Furoncle & Boulb</li>
                        <li>> Jean-Fonce & Pétroncle </li>
                        <li>< Licorne & Toupille </li>
                    </ul>
                    <ul>
                        <div><span>Alavare</span></div>
                        <li>= Pétroncle & Jean-Fonce</li>
                        <li>> Licorne & Toupille</li>
                        <li>< Boulb & Furoncle </li>
                    </ul>
                    <ul>
                        <div><span>Yvres</span></div>
                        <li>= Inclusive & Toupille</li>
                        <li>> Boulb & Furoncle</li>
                        <li>< Jean-Fonce & Pétroncle </li>
                    </ul>
                    <ul>
                        <div><span>Géhonte</span></div>
                        <li>= Inclusive & Toupille</li>
                        <li>> Boulb & Furoncle</li>
                        <li>< Jean-Fonce & Pétroncle</li>
                    </ul>
                    <button type="button" id="closeRules">Fermer</button>
                </div>
            </dialog>
        </nav>
    </header>


    <main>
        <!-- TITRE ET PRESENTATION -->
        <section class="context">
            <h1>Les Honteux de Barbegarde <br> Mini-Jeu</h1>

            <p>La contrée de Barbegarde est en plein remouds en ce moment. Fort de ses nouveaux alliés en quittant la
                prison des nains,
                Pétroncle le Barbeux revient en découdre avec l'équipe de Géhonte et ses fidèles bras cassés.
                Cet affront ne restera pas impuni ! Les combattants sont en place ! Ils attendent vos ordres !</p>
        </section>


        <section class="principal">
            <!-- PARTIE CARTES -->

            <!-- CARTES DE L'UTILISATEUR -->
            <div class="userStat">
                <button type="button" class="statButton" id="yourStat">Vous</button>

                <div class="userGlobalStat hide" id="userGlobalStat">
                    <div>
                        <img src="./public/assets/img/icon/trophy.webp" alt="icône de trophée" class="iconStat">
                        <div>Nombre de victoires</div>
                        <div id="victoriesNumber"></div>
                        <hr>
                    </div>

                    <div>
                        <img src="./public/assets/img/icon/surrounded-shield.webp"
                            alt="icône de personnage encaissant les coups avec un bouclier" class="iconStat">
                        <div>Nombre de matchs nuls</div>
                        <div id="equalitiessNumber"></div>
                        <hr>
                    </div>

                    <div>
                        <img src="./public/assets/img/icon/grave-flowers.webp" alt="icône de pierre tombale"
                            class="iconStat">
                        <div>Nombre de défaites</div>
                        <div id="defeatsNumber"></div>
                    </div>
                </div>

                <!-- CARTES SPECIALES DE L'UTILISATEUR -->
                <button type="button" class="statButton" id="yourGameStat">Partie en cours</button>
                <div class="userGameStat hide" id="userGameStat">
                    <div>
                        <img src="./public/assets/img/icon/sun-priest.webp" alt="icône de magicien triomphant"
                            class="iconStat">
                        <div>Manches gagnées</div>
                        <div id="sucessNumber"></div>
                        <hr>
                    </div>
                    <div>
                        <img src="./public/assets/img/icon/shield-bash.webp"
                            alt="icône de personnage encaissant les coups avec un bouclier" class="iconStat">
                        <div>Manches égalités</div>
                        <div id="equalNumber"></div>
                        <hr>
                    </div>
                    <div>
                        <img src="./public/assets/img/icon/arrowed.webp" alt="icône de personnage percé de flèches"
                            class="iconStat">
                        <div>Manches perdues</div>
                        <div id="failNumber"></div>
                    </div>
                </div>

                <div class="moreInfo">
                    <a href="./cards.html?id=1"><button type="button" class="more">En savoir plus<br>sur les
                            personnages</button></a>
                </div>
            </div>

            <!-- ---------------------------------------------------------------------------------------------------------------------------- -->

            <div id="mainPart">
                <!-- RECAPITULATIF DU NOMBRE DE PARTIES -->
                <div class="gamesNumber">
                    <h2>Nombre de parties</h2>
                    <div id="gamesNumber"></div>
                </div>

                <!-- AFFICHAGE DE DEPART -->
                <div class="fightZone noGameStart" id="noGameStart">
                    <button type="button" id="startGame">Commencer</button>
                </div>

                <!-- AFFICHAGE D'UN EVENEMENT -->
                <div class="fightZone eventGameDisplay hide" id="eventGameDisplay">
                    <img src="" alt="" id="eventImg">
                    <div id="eventText"></div>
                    <small id="eventEffect"></small>
                    <button type="button" class="hide" id="following">Continuer</button>
                    <button type="button" class="hide" id="finished">Terminer</button>
                </div>

                <!-- AFFICHADE DU RESULTAT -->
                <div class="fightZone resultGame hide" id="resultGame">

                    <div id="resultSentence"></div>

                    <!-- AFFICHAGE DE LA BANNIERE -->
                    <div class="banner" id="gameResultBloc">
                        <img src="" alt="" id="banner">
                        <h4 id="gameResult">Victoire</h4>
                    </div>

                    <!-- AFFICHAGE DE LA RECOMPENSE -->
                    <div class="reward hide" id="reward">
                        <p>Ce mini-jeu provient d'une histoire loufoque dont je vous laisse découvrir le résumé ci
                            dessous :
                        </p>
                        <div class="presentation">
                            <a href="https://www.atelierdesauteurs.com/text/494804679/les-honteux-de-barbegarde"
                                target="_blank"><img src="./public/assets/img/others/Les Honteux de Barbegarde.webp"
                                    alt="Les Honteux de Barbegarde" class="rewardImg"></a>
                            <div class="presentationText">
                                <h3>Les Honteux de Barbegarde</h3>
                                <p>Au merveilleux pays de Barbegarde, la quiétude règne sans partage entre les
                                    différentes
                                    communautés
                                    jusqu’à ce qu’un sinistre pendard vienne semer la discorde en distribuant des
                                    brevets de
                                    honte par
                                    la propagation intempestive des secrets de ses habitants…</p>
                                <p><span>Pour lire cette histoire, cliquez sur l'image.</span> </p>
                                <p id="postNote">P.S : L'histoire va subir une refonte prochainement, il s'agit d'un premier jet.</p>
                            </div>
                        </div>
                    </div>

                    <!-- BOUTON DE RECOMPENSE EN CAS DE VICTOIRE ET REDEMERRAGE D'UNE PARTIE -->
                    <button type="button" class="takeReward hide" id="takeReward">Recupérer la récompense</button>
                    <button type="button" id="restart">Recommencer</button>
                </div>

                <!-- ---------------------------------------------------------------------------------------------------------------------------- -->

                <!-- PARTIE AFFRONTEMENT -->

                <div class="fightZone hide" id="fightZone">

                    <div class="fight" id="fight">
                        <div class="platform success" id="platform">
                            <h2>Affrontement</h2>
                            <h3>Nombre de manches</h3>
                            <div id="roundNumber"></div>
                            <!-- AFFICHE LE SCORE ET LES PROTAGONISTES -->
                            <div class="show">
                                <div>
                                    <h3>Score</h3>
                                    <div class="score" id="userScore"></div>
                                    <img src="" alt="" class="frameImg" id="userSelection">
                                </div>
                                <div id="vs">
                                    <p>VS</p>
                                </div>
                                <div>
                                    <h3>Score</h3>
                                    <div class="score" id="iaScore"></div>
                                    <img src="" alt="" class="frameImg" id="iaSelection">
                                </div>
                            </div>
                            <!-- AFFICHE UNE PHRASE ET LE RESULTAT DE LA MANCHE -->
                            <div class="showText">
                                <!-- <p id="explainEvent"></p> -->
                                <small id="specialText"></small>
                                <h4 id="roundResult"></h4>
                            </div>
                        </div>

                        <div class="gameStuff">
                            <div class="userCharacters">

                                <!-- PERSONNAGES NORMAUX -->
                                <div class="normalCharacters">
                                    <div class="character" title="Yvette la crevette">
                                        <input type="image" src="./public/assets/img/userCharacters/yvette.webp" value="0"
                                            id="yvette" alt="Petite crevette rouge orangé sur son rocher.">
                                    </div>
                                    <div class="character" title="Jean-Hardi l'emphatique">
                                        <input type="image" src="./public/assets/img/userCharacters/jeanhardi.webp" value="1"
                                            id="jeanHardi" alt="Chevalier en armure complète noir et or.">
                                    </div>
                                    <div class="character" title="Hutin le lutin">
                                        <input type="image" src="./public/assets/img/userCharacters/hutin.webp" value="2" id="hutin"
                                            alt="Lutin mi-korrigan au regard furieux.">
                                    </div>
                                    <div class="character" title="Alavare l'opportuniste">
                                        <input type="image" src="./public/assets/img/userCharacters/alavare.webp" value="3"
                                            id="alavare" alt="Vieux magicien à l’air sévère dans un château.">
                                    </div>
                                    <div class="character" title="Yvres le soit-disant Druide">
                                        <input type="image" src="./public/assets/img/userCharacters/yvres.webp" value="4"
                                            id="yvres" alt="Vieux druide dans une forêt.">
                                    </div>
                                    <div class="character" title="Géhonte le magicien de la honte">
                                        <input type="image" src="./public/assets/img/userCharacters/gehonte.webp" value="5"
                                            id="gehonte" alt="Vieux magicien barbu à lunette dans une cave.">
                                    </div>
                                </div>
    
                                <!-- PERSONNAGES SPECIAUX -->
                                <div class="specialCharacters">
                                    <div class="character" title="Austère le drastique">
                                        <input type="image" class="inactive"
                                            src="./public/assets/img/userCharacters/austere.webp" value="0" id="austere"
                                            alt="Vieux magicien barbu à lunette en tenue académique.">
                                    </div>
                                    <div class="character" title="Charmignon l'illusionniste">
                                        <input type="image" class="inactive"
                                            src="./public/assets/img/userCharacters/charmignon.webp" value="1"
                                            id="charmignon" alt="Bel homme brun souriant aux cheveux longs.">
                                    </div>
                                    <div class="character" title="Devine la voyante">
                                        <input type="image" class="inactive"
                                            src="./public/assets/img/userCharacters/devine.webp" value="2" id="devine"
                                            alt="Vieille dame avec un chapeau de sorcière.">
                                    </div>
                                    <div class="character" title="Hontoscope">
                                        <input type="image" class="inactive"
                                            src="./public/assets/img/userCharacters/hontoscope.webp" value="3"
                                            id="hontoscope" alt="Petite grenouille rose poilue.">
                                    </div>
                                </div>
                            </div>
    
                            <!-- PARTIE CHEATING -->
                            <div class="cheating">
                                <div class="choosingCheat hide" id="choosingCheat">
                                    <div class="closeCheat">
                                        <button type="button" id="closeCheat"><img src="./public/assets/img/icon/fermer.webp"
                                                title="Fermer la zone de triche" alt="Fermer"></button>
                                    </div>
                                    <!-- MORCEAU POUR CHOISIR UNE CARTE DE TRICHE -->
                                    <h5>Spéciaux</h5>
                                    <div class="chooseCard">
                                        <button type="button" title="Retire un point à l'ordinateur" value="0"
                                            id="cheatAustere">Austère</button>
                                        <button type="button" title="Empêche l'ordinateur de jouer ses personnages spéciaux pendant 3 tours" value="1"
                                            id="cheatCharmignon">Charmignon</button>
                                        <button type="button" title="Vous donne un point" value="2"
                                            id="cheatDevine">Devine</button>
                                            <button type="button" title="Une chance sur deux de retirer deux points à l'ordinateur ou à vous-même" value="3"
                                            id="cheatHontoscope">Hontoscope</button>
                                    </div>

                                    <!-- MORCEAU POUR CHOISIR LA FIN DE LA PARTIE -->
                                    <h5>Événements</h5>
                                    <div class="chooseEvent">
                                        <button type="button" title="Passe les scores en négatifs" value="0"
                                            id="sarcophage">Sarcophage</button>
                                        <button type="button" title="Divise les scores par deux" value="1"
                                            id="barbegarde">Barbegarde</button>
                                        <button type="button" title="Assomme tous le monde" value="2"
                                            id="createur">Créateur</button>
                                    </div>
                                    <!-- MORCEAU POUR CHOISIR LA FIN DE LA PARTIE -->
                                    <h5>Fin de partie</h5>
                                    <div class="chooseResult">
                                        <button type="button" value="0" id="defeat">Défaite</button>
                                        <button type="button" value="1" id="victory">Victoire</button>
                                        <button type="button" value="2" id="null">Egalité</button>
                                    </div>
                                </div>
    
                                <!-- MORCEAU POUR ENTRER DANS LA SECTION DE TRICHE -->
                                <div class="cheatingEnter" id="cheatingEnter">
                                    <button type="button" title="Entrer dans la section triche" id="cheat">Triche</button>
                                    <div class="hide" id="passwordSection">
                                        <p>C'est honteux !</p>
                                        <input type="password" name="password" id="password">
                                    </div>
                                </div>
    
                            </div>
                        </div>
                    </div>

                    <div class="surrend"><button type="reset" title="Termine la partie au prix d'une défaite"
                            id="surrend">Abandonner</button>
                    </div>
                </div>
            </div>


            <!-- CARTES DE L'ORDINATEUR -->
            <div class="iaStat">
                <button type="button" class="statButton" id="iaStat">Ordinateur</button>
                <!-- CARTES NORMALES DE L'ORDINATEUR -->
                <div class="iaGlobalStat hide" id="iaGlobalStat">
                    <div>
                        <img src="./public/assets/img/icon/trophy.webp" alt="icône de trophée" class="iconStat">
                        <div>Nombre de victoires</div>
                        <div id="iaVictories"></div>
                        <hr>
                    </div>

                    <div>
                        <img src="./public/assets/img/icon/surrounded-shield.webp"
                            alt="icône de personnage encaissant les coups avec un bouclier" class="iconStat">
                        <div>Nombre de matchs nuls</div>
                        <div id="iaEqualities"></div>
                        <hr>
                    </div>

                    <div>
                        <img src="./public/assets/img/icon/grave-flowers.webp" alt="icône de pierre tombale"
                            class="iconStat">
                        <div>Nombre de défaites</div>
                        <div id="iaDefeats"></div>
                    </div>
                </div>

                <!-- CARTES SPECIALES DE L'ORDINATEUR -->
                <button type="button" class="statButton" id="showIaGameStat">Partie en cours</button>
                <div class="iaGameStat hide" id="iaGameStat">
                    <div>
                        <img src="./public/assets/img/icon/sun-priest.webp" alt="icône de magicien triomphant"
                            class="iconStat">
                        <div>Manches gagnées</div>
                        <div id="iaSuccess"></div>
                        <hr>
                    </div>
                    <div>
                        <img src="./public/assets/img/icon/shield-bash.webp"
                            alt="icône de personnage encaissant les coups avec un bouclier" class="iconStat">
                        <div>Manches égalités</div>
                        <div id="iaEqual"></div>
                        <hr>
                    </div>
                    <div>
                        <img src="./public/assets/img/icon/arrowed.webp" alt="icône de personnage percé de flèches"
                            class="iconStat">
                        <div>Manches perdues</div>
                        <div id="iaFail"></div>
                    </div>
                </div>

                <div class="moreInfo"><a href="./cards.html?id=0"><button type="button" class="more">En savoir
                            plus<br>sur les
                            personnages</button></a></div>
            </div>

        </section>

    </main>

    <script src="./public/assets/js/script.js"></script>
    <script type="module" src="./public/assets/js/constants.js"></script>
    <script type="module" src="./public/assets/js/localStorage.js"></script>
    <script type="module" src="./public/assets/js/game.js"></script>
    <script type="module" src="./public/assets/js/special.js"></script>
    <script type="module" src="./public/assets/js/event.js"></script>
</body>

</html>